!function(t){function e(e){function n(){ve=!0}function i(){ve=!1,J()}function r(t){$e=t}function o(t){te=t}function a(t){t=t||0;for(var e,n=t,i=ge.length;i>n;n++){if(e=ge[n][fe],void 0===e)throw"Each data element must implement a unique 'id' property";_e[e]=n}}function l(){for(var t,e=0,n=ge.length;n>e;e++)if(t=ge[e][fe],void 0===t||_e[t]!==e)throw"Each data element must implement a unique 'id' property"}function u(){return ge}function s(t,e){void 0!==e&&(fe=e),ge=Ie=t,_e={},a(),l(),J()}function c(t){void 0!=t.pageSize&&(Ce=t.pageSize,Fe=Ce?Math.min(Fe,Math.max(0,Math.ceil(be/Ce)-1)):0),void 0!=t.pageNum&&(Fe=Math.min(t.pageNum,Math.max(0,Math.ceil(be/Ce)-1))),Pe.notify(f(),null,se),J()}function f(){var t=Ce?Math.max(1,Math.ceil(be/Ce)):1;return{pageSize:Ce,pageNum:Fe,totalRows:be,totalPages:t}}function g(t,e){we=e,Z=t,Y=null,e===!1&&ge.reverse(),ge.sort(t),e===!1&&ge.reverse(),_e={},a(),J()}function h(t,e){we=e,Y=t,Z=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},e===!1&&ge.reverse(),ge.sort(),Object.prototype.toString=n,e===!1&&ge.reverse(),_e={},a(),J()}function _(){Z?g(Z,we):Y&&h(Y,we)}function m(t){de=t,e.inlineFilters&&(ee=z(),ne=U()),J()}function d(t,n,i){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),ie=t,re="function"==typeof ie,oe=n,ae=i,Se={},Re=[],J()}function p(t,e){le=t,Me=void 0!==e?e:Me,ue=[];for(var n=le.length;n--;)ue[n]=q(le[n]);J()}function v(t){return ge[t]}function w(t){return _e[t]}function $(){if(!me){me={};for(var t=0,e=he.length;e>t;t++)me[he[t][fe]]=t}}function y(t){return $(),me[t]}function I(t){return ge[_e[t]]}function x(t){var e=[];$();for(var n=0;n<t.length;n++){var i=me[t[n]];null!=i&&(e[e.length]=i)}return e}function R(t){for(var e=[],n=0;n<t.length;n++)t[n]<he.length&&(e[e.length]=he[t[n]][fe]);return e}function S(t,e){if(void 0===_e[t]||t!==e[fe])throw"Invalid or non-matching id";ge[_e[t]]=e,pe||(pe={}),pe[t]=!0,J()}function M(t,e){ge.splice(t,0,e),a(t),J()}function C(t){ge.push(t),a(ge.length-1),J()}function F(t){var e=_e[t];if(void 0===e)throw"Invalid id";delete _e[t],ge.splice(e,1),a(e),J()}function b(){return he.length}function N(t){return he[t]}function T(t){var n=he[t];return void 0===n?null:n.__group?e.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?e.groupItemMetadataProvider.getTotalsRowMetadata(n):null}function P(t){Se[t]=!0,J()}function D(t){delete Se[t],J()}function G(){return Re}function k(t){for(var e,n,i,r=[],o=[],a=0,l=t.length;l>a;a++)i=t[a],n=re?ie(i):i[ie],n=n||0,e=o[n],e||(e=new Slick.Group,e.count=0,e.value=n,e.rows=[],r[r.length]=e,o[n]=e),e.rows[e.count++]=i;return r}function E(t){if(!t.collapsed||Me){for(var e,n=new Slick.GroupTotals,i=le.length;i--;)e=le[i],e.init(),ue[i].call(e,t.rows),e.storeResult(n);n.group=t,t.totals=n}}function A(t){for(var e=t.length;e--;)E(t[e])}function B(t){for(var e,n=t.length;n--;)e=t[n],e.collapsed=e.value in Se,e.title=oe?oe(e):e.value}function j(t){for(var e,n=[],i=0,r=0,o=t.length;o>r;r++){if(e=t[r],n[i++]=e,!e.collapsed)for(var a=0,l=e.rows.length;l>a;a++)n[i++]=e.rows[a];!e.totals||e.collapsed&&!Me||(n[i++]=e.totals)}return n}function O(t){var e=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function q(t){var e=O(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function z(){var t=O(de),e=t.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e),n=n.replace(/\$item\$/gi,t.params[0]),n=n.replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args",n);return i.displayName=i.name="compiledFilter",i}function U(){var t=O(de),e=t.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e),n=n.replace(/\$item\$/gi,t.params[0]),n=n.replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args,_cache",n);return i.displayName=i.name="compiledFilterWithCaching",i}function L(t,e){for(var n=[],i=0,r=0,o=t.length;o>r;r++)de(t[r],e)&&(n[i++]=t[r]);return n}function H(t,e,n){for(var i,r=[],o=0,a=0,l=t.length;l>a;a++)i=t[a],n[a]?r[o++]=i:de(i,e)&&(r[o++]=i,n[a]=!0);return r}function Q(t){if(de){var n=e.inlineFilters?ee:L,i=e.inlineFilters?ne:H;$e.isFilterNarrowing?Ie=n(Ie,te):$e.isFilterExpanding?Ie=i(t,te,xe):$e.isFilterUnchanged||(Ie=n(t,te))}else Ie=Ce?t:t.concat();var r;return Ce?(Ie.length<Fe*Ce&&(Fe=Math.floor(Ie.length/Ce)),r=Ie.slice(Ce*Fe,Ce*Fe+Ce)):r=Ie,{totalRows:Ie.length,rows:r}}function V(t,e){var n,i,r,o=[],a=0,l=e.length;$e&&$e.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,$e.ignoreDiffsBefore))),$e&&$e.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,$e.ignoreDiffsAfter)));for(var u=a,s=t.length;l>u;u++)u>=s?o[o.length]=u:(n=e[u],i=t[u],(ie&&(r=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__updated||n.__group&&!n.equals(i)||le&&r&&(n.__groupTotals||i.__groupTotals)||n[fe]!=i[fe]||pe&&pe[n[fe]])&&(o[o.length]=u));return o}function W(t){me=null,($e.isFilterNarrowing!=ye.isFilterNarrowing||$e.isFilterExpanding!=ye.isFilterExpanding)&&(xe=[]);var e=Q(t);be=e.totalRows;var n=e.rows;Re=[],null!=ie&&(Re=k(n),Re.length&&(B(Re),le&&A(Re),Re.sort(ae),n=j(Re)));var i=V(he,n);return he=n,i}function J(){if(!ve){var t=he.length,e=be,n=W(ge,de);Ce&&Fe*Ce>be&&(Fe=Math.max(0,Math.ceil(be/Ce)-1),n=W(ge,de)),pe=null,ye=$e,$e={},e!=be&&Pe.notify(f(),null,se),t!=he.length&&Ne.notify({previous:t,current:he.length},null,se),n.length>0&&Te.notify({rows:n},null,se)}}function K(t,e){var n,i=this,r=i.mapRowsToIds(t.getSelectedRows());t.onSelectedRowsChanged.subscribe(function(){n||(r=i.mapRowsToIds(t.getSelectedRows()))}),this.onRowsChanged.subscribe(function(){if(r.length>0){n=!0;var o=i.mapIdsToRows(r);e||(r=i.mapRowsToIds(o)),t.setSelectedRows(o),n=!1}})}function X(t,e){function n(t){i={};for(var e in t){var n=he[e][fe];i[n]=t[e]}}var i,r;n(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe(function(t,i){r||e==i.key&&i.hash&&n(i.hash)}),this.onRowsChanged.subscribe(function(){if(i){r=!0,$();var n={};for(var o in i){var a=me[o];void 0!=a&&(n[a]=i[o])}t.setCellCssStyles(e,n),r=!1}})}var Y,Z,te,ee,ne,ie,re,oe,ae,le,ue,se=this,ce={groupItemMetadataProvider:null,inlineFilters:!1},fe="id",ge=[],he=[],_e={},me=null,de=null,pe=null,ve=!1,we=!0,$e={},ye={},Ie=[],xe=[],Re=[],Se={},Me=!1,Ce=0,Fe=0,be=0,Ne=new Slick.Event,Te=new Slick.Event,Pe=new Slick.Event;return e=t.extend(!0,{},ce,e),{beginUpdate:n,endUpdate:i,setPagingOptions:c,getPagingInfo:f,getItems:u,setItems:s,setFilter:m,sort:g,fastSort:h,reSort:_,groupBy:d,setAggregators:p,collapseGroup:P,expandGroup:D,getGroups:G,getIdxById:w,getRowById:y,getItemById:I,getItemByIdx:v,mapRowsToIds:R,mapIdsToRows:x,setRefreshHints:r,setFilterArgs:o,refresh:J,updateItem:S,insertItem:M,addItem:C,deleteItem:F,syncGridSelection:K,syncGridCellCssStyles:X,getLength:b,getItem:N,getItemMetadata:T,onRowCountChanged:Ne,onRowsChanged:Te,onPagingInfoChanged:Pe}}function n(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null!=e&&""!=e&&0/0!=e&&(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}}function i(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!=e&&0/0!=e&&(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}}function r(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!=e&&0/0!=e&&(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}}function o(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!=e&&0/0!=e&&(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}t.extend(!0,window,{Slick:{Data:{DataView:e,Aggregators:{Avg:n,Min:i,Max:r,Sum:o}}}})}(jQuery);
